<% define_content :link do %>
  <%= HostUrl.protocol %>://<%= HostUrl.context_host(asset.course) %>/<%= asset.course.class.to_s.downcase.pluralize %>/<%= asset.course_id %>?invitation=<%= asset.uuid %>
<% end %>

<% define_content :subject do %>
  <%= t :subject, "Project Invitation" %>
<% end %>

<% website = (HostUrl.context_host((asset.user.pseudonym).account) rescue nil) || HostUrl.default_host %>
<%=
    case asset.type
    when 'TeacherEnrollment'
      t :body_teacher, "You've been invited to participate in a project at %{website}.  The project is called %{course}, and you've been invited to participate as a hiring manager.", :website => website, :course => asset.course.name
    when 'TaEnrollment'
      t :body_ta, "You've been invited to participate in a project at %{website}.  The project is called %{course}, and you've been invited to participate as a interviewer.", :website => website, :course => asset.course.name
    when 'ObserverEnrollment'
      t :body_observer, "You've been invited to participate in a project at %{website}.  The project is called %{course}, and you've been invited to participate as a HR.", :website => website, :course => asset.course.name
    when 'DesignerEnrollment'
      t :body_designer, "You've been invited to participate in a project at %{website}.  The project is called %{course}, and you've been invited to participate as a designer.", :website => website, :course => asset.course.name
    else
      t :body_student, "You've been invited to participate in a project at %{website}.  The project is called %{course}, and you've been invited to participate as a candidate.", :website => website, :course => asset.course.name
    end
%>
